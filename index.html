<!DOCTYPE html>
<html class="dark" lang="es">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Portafolio Josué Puente</title>
    <!-- Tailwind CSS with configuration -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"/>
    <!-- Material Symbols -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet">
    
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#ec5b13",
                        "background-light": "#f6f6f8",
                        "background-dark": "#101322",
                    },
                    fontFamily: {
                        "publicSans": ["Public Sans", "sans-serif"],
                        "sans": ["Public Sans", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.5rem",
                        "md": "0.5rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "2xl": "1rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        .fill-1 {
            font-variation-settings: 'FILL' 1;
        }
        /* Custom Typing Simulation Cursor Effect */
        .typing-cursor::after {
            content: "|";
            animation: blink 1s step-end infinite;
            color: #ec5b13;
            margin-left: 4px;
        }
        @keyframes blink {
            from, to { opacity: 1; }
            50% { opacity: 0; }
        }
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        body {
            font-family: 'Public Sans', sans-serif;
        }
        /* Custom Scrollbar for better visibility in dark mode */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #0f172a;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #ec5b13;
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-white transition-colors duration-300">
    <div id="root">
        <div class="flex items-center justify-center min-h-screen">
            <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"></div>
        </div>
    </div>

    <!-- React and Libraries -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/history@5/umd/history.development.js"></script>
    <script src="https://unpkg.com/react-router@6.3.0/umd/react-router.development.js"></script>
    <script src="https://unpkg.com/react-router-dom@6.3.0/umd/react-router-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { createRoot } = ReactDOM;
        const { HashRouter, Routes, Route, Link, useNavigate, useLocation } = ReactRouterDOM;

        // --- Data Definitions ---
        const featuredProjectsData = [
            { 
                id: 1, 
                type: "video",
                category: "Edición de Video / VFX", 
                title: "Cortometraje: Sin Sentido", 
                img: "img/sinsentido.jpg", 
                videoUrl: "https://www.youtube.com/embed/ZBQHfuvKNfk", 
                desc: "Proyecto reconocido en ExpoLMAD 2023 por la integración de modelos 3D en entornos reales. Logrando una narrativa inmersiva mediante técnicas avanzadas de composición digital y tracking." 
            },
            { 
                id: 2, 
                type: "gallery",
                category: "Fotografías", 
                title: "Fotografía Profesional", 
                img: "img/Celso.jpg", 
                gallery: [
                    "img/CelsoP.jpg",
                    "img/Paisaje.jpg",
                    "img/Moha.jpg",
                    "img/Rosa.jpg",
                    "img/Zi.jpg",
                    "img/MohaY.jpg",
                    "img/ZTimon.jpg",
                    "img/Quantum_2.jpg",
                    "img/Panthro_2.jpg",
                    "img/Bestia.jpg",
                    "img/Octagon.jpg"
                ],
                desc: "Colección de capturas realizadas en diferentes eventos, sesiones dirigidas y cobertura profesional. Cada foto representa técnicas avanzadas en iluminación, composición y edición." 
            },
            { 
                id: 7, 
                type: "website",
                category: "Diseño Web", 
                title: "Cute Digital Media", 
                img: "img/pagwebCuteMedia.jpg", 
                url: "https://josuepuente.github.io/Prueba-de-seleccion-CuteDigitalMedia/",
                desc: "Página web diseñada para una agencia digital como parte de un ejercicio técnico. Con un diseño moderno y una jerarquía visual bien definida." 
            }
        ];

        const allProjectsData = [
            { 
                id: 9, 
                type: "video",
                category: "Edición de Video / VFX", 
                title: "Wedding Video Intro", 
                img: "img/boda.jpg", 
                videoUrl: "img/introboda.mp4",
                desc: "Introducción audiovisual para boda, editada con enfoque en ritmo, continuidad visual y construcción narrativa. Material base generado con herramientas de IA; edición y narrativa desarrolladas manualmente." 
            },
            { 
                id: 8, 
                type: "grid-gallery",
                category: "Edición de Video / VFX", 
                title: "Streaming Motion Package", 
                img: "img/twitch2.jpg", 
                gallery: [
                    "img/twitch.mp4",
                    "img/twitchfinal.mp4",
                    "img/twitchtransicion.mp4"
                ],
                labels: ["Intro", "Cierre", "Transición"],
                desc: "Diseño y desarrollo de un sistema de animaciones para streaming, aplicado a un entorno de Twitch. Creación de animaciones para introducción, transiciones y cierre, manteniendo coherencia visual y fluidez narrativa a lo largo del stream." 
            },
            featuredProjectsData[0], 
            featuredProjectsData[1], 
            featuredProjectsData[2], 
            { 
                id: 4, 
                type: "video",
                category: "Edición de Video / VFX", 
                title: "Cortometraje: Kefeito VS Covicho", 
                img: "img/kefeito.jpg", 
                videoUrl: "https://www.youtube.com/embed/yntPGZ6W-z4",
                desc: "Cortometraje Kefeito vs Covicho, reconocido por su calidad dentro de los mejores proyectos académicos de Efectos Visuales I." 
            }
        ];

        // --- Common Components ---

        const WebsiteBrowserUI = ({ url, title, onClose, isMinimized, setIsMinimized }) => {
            const [isMaximized, setIsMaximized] = useState(false);
            const iframeRef = useRef(null);

            const handleRefresh = () => {
                if (iframeRef.current) {
                    iframeRef.current.src = iframeRef.current.src;
                }
            };

            useEffect(() => {
                if (!isMinimized) {
                    document.body.style.overflow = 'hidden';
                } else {
                    document.body.style.overflow = 'unset';
                }
                return () => { document.body.style.overflow = 'unset'; };
            }, [isMinimized]);

            if (isMinimized) {
                return (
                    <div 
                        onClick={() => setIsMinimized(false)}
                        className="fixed bottom-24 right-6 z-[110] w-64 h-40 bg-slate-900 rounded-xl shadow-2xl border-2 border-primary/50 overflow-hidden cursor-pointer hover:scale-105 transition-all group group-hover:border-primary"
                    >
                        <div className="absolute inset-0 pointer-events-none opacity-40 group-hover:opacity-100 transition-opacity">
                            <iframe src={url} className="w-[1024px] h-[640px] border-none origin-top-left scale-[0.25]" scrolling="no" title={`preview-${title}`}></iframe>
                        </div>
                        <div className="absolute inset-0 bg-gradient-to-t from-slate-950 via-transparent to-transparent flex flex-col justify-end p-3">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center gap-2">
                                    <div className="size-6 rounded bg-primary flex items-center justify-center text-white">
                                        <span className="material-symbols-outlined text-[14px]">language</span>
                                    </div>
                                    <span className="text-[10px] font-bold text-white truncate w-24 md:w-32">{title}</span>
                                </div>
                                <div className="flex gap-2">
                                    <button 
                                        onClick={(e) => { e.stopPropagation(); onClose(); }}
                                        className="bg-red-500 hover:bg-red-600 text-white p-1 rounded-full shadow-lg flex items-center justify-center"
                                        title="Cerrar"
                                    >
                                        <span className="material-symbols-outlined text-[16px]">close</span>
                                    </button>
                                    <button 
                                        onClick={(e) => { e.stopPropagation(); setIsMinimized(false); }}
                                        className="bg-primary hover:bg-orange-600 text-white p-1 rounded-full shadow-lg flex items-center justify-center"
                                        title="Expandir"
                                    >
                                        <span className="material-symbols-outlined text-[16px]">open_in_full</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div 
                    onClick={(e) => e.stopPropagation()}
                    className={`transition-all duration-300 flex flex-col bg-slate-900 border border-white/10 shadow-2xl overflow-hidden ${isMaximized ? 'fixed inset-0 md:inset-4 z-[110] rounded-none' : 'w-full h-full rounded-xl'}`}
                >
                    <div className="h-9 md:h-10 bg-[#202124] flex items-center justify-between shrink-0 select-none">
                        <div className="flex items-end h-full px-2 overflow-hidden flex-1">
                            <div className="h-8 bg-[#35363a] text-slate-200 px-3 md:px-6 rounded-t-lg flex items-center gap-2 text-[10px] md:text-xs min-w-[120px] max-w-[200px] border-x border-t border-white/5">
                                <span className="material-symbols-outlined text-[14px] md:text-[16px] text-primary">language</span>
                                <span className="truncate flex-1 font-medium">{title}</span>
                                <button onClick={onClose} className="hover:bg-white/10 rounded-full p-0.5 transition-colors">
                                    <span className="material-symbols-outlined text-[12px] md:text-[14px]">close</span>
                                </button>
                            </div>
                        </div>
                        <div className="flex h-full">
                            <button 
                                onClick={() => setIsMinimized(true)} 
                                className="w-10 md:w-12 h-full hover:bg-white/10 flex items-center justify-center text-slate-400 transition-colors"
                                title="Minimizar"
                            >
                                <span className="material-symbols-outlined text-[18px]">remove</span>
                            </button>
                            <button 
                                onClick={() => setIsMaximized(!isMaximized)} 
                                className="hidden md:flex w-12 h-full hover:bg-white/10 items-center justify-center text-slate-400 transition-colors"
                                title={isMaximized ? "Restaurar" : "Maximizar"}
                            >
                                <span className="material-symbols-outlined text-[16px]">{isMaximized ? 'filter_none' : 'check_box_outline_blank'}</span>
                            </button>
                            <button 
                                onClick={onClose} 
                                className="w-10 md:w-12 h-full hover:bg-red-600 flex items-center justify-center text-slate-400 hover:text-white transition-colors"
                                title="Cerrar"
                            >
                                <span className="material-symbols-outlined text-[18px]">close</span>
                            </button>
                        </div>
                    </div>
                    <div className="h-9 md:h-10 bg-[#35363a] flex items-center px-2 md:px-4 gap-2 md:gap-4 border-b border-black/20 shrink-0">
                        <div className="flex items-center gap-1 md:gap-3 text-slate-400">
                            <span className="material-symbols-outlined text-[18px] opacity-50 cursor-not-allowed">arrow_back</span>
                            <span className="material-symbols-outlined text-[18px] opacity-50 cursor-not-allowed">arrow_forward</span>
                            <span className="material-symbols-outlined text-[18px] hover:text-white cursor-pointer transition-colors" onClick={handleRefresh}>refresh</span>
                        </div>
                        <div className="flex-1 bg-[#202124] rounded-full h-7 flex items-center px-4 gap-2 border border-white/5 text-slate-300 text-[11px] md:text-xs">
                            <span className="material-symbols-outlined text-[14px] text-green-500">lock</span>
                            <span className="truncate opacity-80">{url}</span>
                        </div>
                        <div className="flex items-center">
                            <a href={url} target="_blank" rel="noopener noreferrer" className="text-slate-400 hover:text-white transition-colors p-1" title="Abrir en pestaña nueva">
                                <span className="material-symbols-outlined text-[18px]">open_in_new</span>
                            </a>
                        </div>
                    </div>
                    <div className="flex-1 w-full bg-white relative">
                        <iframe ref={iframeRef} src={url} className="w-full h-full border-none" title={title}></iframe>
                    </div>
                </div>
            );
        };

        const ExperienceSection = () => {
            const [selectedExp, setSelectedExp] = useState(null);
            const [activeCategory, setActiveCategory] = useState("Todas");

            useEffect(() => {
                if (selectedExp) {
                    document.body.style.overflow = 'hidden';
                } else {
                    document.body.style.overflow = 'unset';
                }
                return () => { document.body.style.overflow = 'unset'; };
            }, [selectedExp]);

            const categories = ["Todas", "Docencia", "Marketing & Audiovisual", "Modelado 3D"];

            const experience = [
                { 
                    id: 1, 
                    category: "Docencia", 
                    title: "Docente Tecmilenio", 
                    period: "2026 — Actualidad",
                    img: "img/tecmilenio.jpg", 
                    modalImg: "img/tecmileniologo.jpg",
                    desc: "Catedrático enfocado en el desarrollo de materiales didácticos y acompañamiento de proyectos en medios digitales.",
                    fullDesc: "Docencia en Diseño para Medios Digitales. Desarrollo de recursos visuales y evaluación de proyectos de diseño centrados en la industria actual.",
                    tags: ["Educación", "Diseño", "Mentoría"]
                },
                { 
                    id: 2, 
                    category: "Marketing & Audiovisual", 
                    title: "Soft Controls: Contenido Creativo", 
                    period: "2022 — 2023",
                    img: "img/edicion.jpg", 
                    modalImg: "img/soft.jpg",
                    desc: "Producción audiovisual completa, desde guionismo hasta post-producción y locución.",
                    fullDesc: "Desarrollo de guiones creativos para campañas y videos corporativos, así como edición y postproducción de contenido audiovisual para redes sociales. Experiencia en videografía para spots publicitarios, grabación de voz en off y coordinación de estrategias de difusión en plataformas digitales.",
                    tags: ["Video", "Marketing", "Scripting"]
                },
                { 
                    id: 3, 
                    category: "Modelado 3D", 
                    title: "Modelado e Impresión 3D", 
                    period: "2016 — Actualidad",
                    img: "img/modelado.jpg", 
                    modalImg: "img/epikzimpresiones.jpg",
                    desc: "Servicios independientes de modelado 3D personalizado y optimización de prototipos.",
                    fullDesc: "Modelado 3D personalizado de piezas funcionales y decorativas, desde las pruebas y el desarrollo de piezas hasta la optimización para impresión, postprocesado y control de calidad final.",
                    tags: ["3D Printing", "CAD", "Prototyping"]
                },
                { 
                    id: 6, 
                    category: "Docencia", 
                    title: "Docente Facultad de Artes Visuales, UANL", 
                    period: "2025",
                    img: "img/fav.jpg", 
                    modalImg: "img/uanl.jpg",
                    desc: "Impartición de materias técnicas relacionadas con Modelado 3D y Programación.",
                    fullDesc: "Impartición temporal de materias: Modelado 3D, Lenguajes de Programación y Desarrollo de Aplicaciones. Elaboración de contenido académico, evaluación de proyectos prácticos y mentoría en proyectos estudiantiles de diseño digital.",
                    tags: ["Docencia", "3D", "Programación"]
                },
                { 
                    id: 4, 
                    category: "Docencia", 
                    title: "Docente Universidad LUX", 
                    period: "2025",
                    img: "img/lux.jpg", 
                    modalImg: "img/luxlogo.jpg",
                    desc: "Docencia en Diseño de Empaques y Portafolio Profesional.",
                    fullDesc: "Experiencia docente en materias de diseño y animación, incluyendo Diseño de Empaques, Animación (Animate), Identidad Básica, Diseño de Portafolio y Tesis II. Desarrollo de planes de clase, proyectos prácticos y material visual, así como mentoría en portafolios y proyectos finales.",
                    tags: ["Docencia", "Branding", "Portfolio"]
                },
                { 
                    id: 5, 
                    category: "Marketing & Audiovisual", 
                    title: "Canal 53 TVUni: Gráficos", 
                    period: "2016 — 2017",
                    img: "img/canal53uanl.jpg", 
                    modalImg: "img/canal53.jpg",
                    desc: "Diseño de identidad visual y gráficos para transmisiones televisivas.",
                    fullDesc: "Diseño de elementos gráficos para transmisiones televisivas, incluyendo cortinillas, supers y gráficos de continuidad, así como el desarrollo de identidades visuales para programas y segmentos, adaptadas a múltiples formatos de emisión.",
                    tags: ["Broadcast", "Motion Graphics", "TV"]
                }
            ];

            const filteredExp = activeCategory === "Todas" 
                ? experience 
                : experience.filter(item => item.category === activeCategory);

            return (
                <section className="w-full">
                    <div className="w-full">
                        <div className="flex flex-col gap-2 mb-8">
                            <h2 className="text-slate-900 dark:text-white text-3xl md:text-4xl font-bold tracking-tight">Trayectoria Profesional</h2>
                            <p className="text-slate-500 dark:text-[#929bc9] text-lg font-normal leading-6">Mi formación en Multimedia y Animación Digital, junto con mi experiencia como docente universitario y en marketing digital, me ha permitido desarrollar habilidades en Edición de Video, Efectos Visuales, Modelado 3D y Comunicación Audiovisual.</p>
                        </div>
                        <div className="mb-10">
                            <div className="flex border-b border-slate-200 dark:border-[#323b67] gap-8 overflow-x-auto no-scrollbar">
                                {categories.map((cat) => (
                                    <button key={cat} onClick={() => setActiveCategory(cat)} className={`flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4 transition-all whitespace-nowrap ${activeCategory === cat ? 'border-primary text-slate-900 dark:text-white' : 'border-transparent text-slate-400 dark:text-[#929bc9] hover:text-primary'}`}>
                                        <span className="text-sm font-bold tracking-wide">{cat}</span>
                                    </button>
                                ))}
                            </div>
                        </div>
                        <h2 className="text-slate-900 dark:text-white tracking-tight text-[12px] font-bold mb-6 uppercase tracking-[0.2em] opacity-50">Historial Reciente</h2>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {filteredExp.map((item) => (
                                <div key={item.id} onClick={() => setSelectedExp(item)} className="group relative cursor-pointer overflow-hidden rounded-xl bg-slate-200 dark:bg-slate-800 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg hover:shadow-primary/10">
                                    <div className="aspect-video bg-cover bg-center" style={{backgroundImage: `url("${item.img}")`}}></div>
                                    <div className="absolute inset-0 bg-slate-950/40 transition-colors group-hover:bg-slate-950/20"></div>
                                    <div className="absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/60 to-transparent opacity-90 group-hover:opacity-100 transition-opacity"></div>
                                    <div className="absolute inset-0 flex flex-col justify-end p-5 text-left">
                                        <span className="text-primary text-[10px] font-black uppercase tracking-[0.2em] mb-1 drop-shadow-md">{item.category}</span>
                                        <h3 className="text-white text-base md:text-lg font-bold leading-tight mb-1 drop-shadow-lg">{item.title}</h3>
                                        <p className="text-slate-200 text-xs font-medium line-clamp-2 mb-4 opacity-90">{item.desc}</p>
                                        <div className="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0">
                                            <span className="material-symbols-outlined text-white text-lg">info</span>
                                            <span className="text-white text-[10px] font-bold uppercase tracking-widest">Ver detalles</span>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                    {selectedExp && (
                        <div onClick={() => setSelectedExp(null)} className="fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-8 bg-black/90 backdrop-blur-sm transition-opacity">
                            <div onClick={(e) => e.stopPropagation()} className="relative w-full max-w-4xl bg-[#101322] rounded-xl shadow-2xl border border-white/5 overflow-hidden flex flex-col md:flex-row max-h-[90vh] md:max-h-[70vh]">
                                <button onClick={() => setSelectedExp(null)} className="absolute top-4 right-4 z-20 text-white/70 hover:text-white bg-black/40 hover:bg-black/60 p-2 rounded-full transition-all">
                                    <span className="material-symbols-outlined">close</span>
                                </button>
                                <div className="w-full md:w-1/2 aspect-video md:aspect-auto bg-cover bg-center shrink-0 min-h-[180px]" style={{backgroundImage: `url("${selectedExp.modalImg || selectedExp.img}")`}}>
                                    <div className="w-full h-full bg-primary/10"></div>
                                </div>
                                <div className="p-6 md:p-10 text-white text-left flex flex-col justify-center overflow-y-auto">
                                    <span className="text-primary text-[10px] font-black uppercase tracking-[0.3em] mb-2">{selectedExp.period}</span>
                                    <h2 className="text-2xl md:text-3xl font-bold mb-3">{selectedExp.title}</h2>
                                    <p className="text-slate-300 text-sm md:text-base leading-relaxed mb-6">{selectedExp.fullDesc}</p>
                                    <div className="flex flex-wrap gap-2">
                                        {selectedExp.tags.map(tag => (
                                            <span key={tag} className="px-2 py-1 bg-white/5 border border-white/10 text-slate-400 text-[9px] font-bold rounded-md uppercase tracking-widest">{tag}</span>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </section>
            );
        };

        const Logo = () => (
            <div className="flex items-center gap-3">
                <span className="material-symbols-outlined text-primary text-2xl">movie</span>
                <h2 className="text-lg font-bold tracking-tight">Josué Darío Puente Castillo</h2>
            </div>
        );

        const Navbar = () => {
            const navigate = useNavigate();
            const location = useLocation();
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            return (
                <header className="fixed top-0 z-50 w-full border-b border-solid border-slate-200 dark:border-[#232948] bg-white/80 dark:bg-[#101322]/80 backdrop-blur-md px-4 md:px-20 lg:px-40 py-4">
                    <div className="mx-auto flex max-w-[1200px] items-center justify-between">
                        <Link to="/" className="flex items-center gap-3"><Logo /></Link>
                        <div className="flex items-center gap-4">
                            <nav className="hidden md:flex items-center gap-8">
                                <Link to="/" className={`text-sm font-bold transition-colors ${location.pathname === '/' ? 'text-primary' : 'text-slate-600 dark:text-slate-300 hover:text-primary'}`}>Inicio</Link>
                                <Link to="/works" className={`text-sm font-bold transition-colors ${location.pathname === '/works' ? 'text-primary' : 'text-slate-600 dark:text-slate-300 hover:text-primary'}`}>Proyectos</Link>
                                <Link to="/about" className={`text-sm font-bold transition-colors ${location.pathname === '/about' ? 'text-primary' : 'text-slate-600 dark:text-slate-300 hover:text-primary'}`}>Sobre mí</Link>
                            </nav>
                            <button onClick={() => setIsMenuOpen(!isMenuOpen)} className="md:hidden p-2 text-slate-900 dark:text-white flex items-center justify-center" aria-label="Menu">
                                <span className="material-symbols-outlined text-3xl">{isMenuOpen ? 'close' : 'menu'}</span>
                            </button>
                        </div>
                    </div>
                    {isMenuOpen && (
                        <div className="md:hidden absolute top-full left-0 w-full bg-white dark:bg-[#101322] border-b border-slate-200 dark:border-[#232948] p-6 flex flex-col gap-6 animate-in slide-in-from-top duration-300">
                            <Link onClick={() => setIsMenuOpen(false)} to="/" className={`text-lg font-medium ${location.pathname === '/' ? 'text-primary' : ''}`}>Home</Link>
                            <Link onClick={() => setIsMenuOpen(false)} to="/works" className={`text-lg font-medium ${location.pathname === '/works' ? 'text-primary' : ''}`}>Proyectos</Link>
                            <Link onClick={() => setIsMenuOpen(false)} to="/about" className={`text-lg font-medium ${location.pathname === '/about' ? 'text-primary' : ''}`}>Sobre mí</Link>
                        </div>
                    )}
                </header>
            );
        };

        const Footer = () => {
            const handleDownloadCV = () => {
                const link = document.createElement('a');
                link.href = 'CV/CVJosuePuente2026.pdf';
                link.download = 'CV_Josue_Puente.pdf';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };
            return (
                <footer className="border-t border-slate-200 dark:border-[#232948] bg-white dark:bg-[#101322] px-6 md:px-20 lg:px-40 py-10">
                    <div className="mx-auto flex max-w-[1200px] flex-col md:flex-row items-center justify-between gap-6">
                        <div className="flex items-center gap-3 text-slate-900 dark:text-white">
                            <span className="material-symbols-outlined text-primary text-2xl">movie</span>
                            <span className="text-sm font-bold">Josué Darío Puente Castillo</span>
                        </div>
                        <div className="flex items-center gap-6">
                            <a href="https://www.linkedin.com/in/josu%C3%A9-puente/" target="_blank" rel="noopener noreferrer" className="text-slate-500 hover:text-primary transition-colors flex items-center justify-center" title="LinkedIn"><svg className="size-6 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a>
                            <a href="mailto:dari.puentec@gmail.com" className="text-slate-500 hover:text-primary transition-colors cursor-pointer flex items-center justify-center" title="Email"><span className="material-symbols-outlined text-[24px]">mail</span></a>
                            <button onClick={handleDownloadCV} className="text-slate-500 hover:text-primary transition-colors cursor-pointer flex items-center justify-center" title="Descargar CV"><span className="material-symbols-outlined text-[24px]">download</span></button>
                        </div>
                        <p className="text-xs text-slate-400">© Todos los derechos reservados.</p>
                    </div>
                </footer>
            );
        };

        const AboutPage = () => {
            const handleDownloadCV = () => {
                const link = document.createElement('a');
                link.href = 'CV/CVJosuePuente2026.pdf';
                link.download = 'CV_Josue_Puente.pdf';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };
            return (
                <div className="relative flex min-h-screen w-full flex-col overflow-x-hidden">
                    <Navbar />
                    <main className="flex-1 pt-24 pb-12">
                        <section className="mx-auto max-w-[1200px] px-6 md:px-10 py-6 md:py-12" id="about">
                            <div className="flex flex-col md:flex-row gap-10 md:gap-16">
                                <div className="w-full md:w-1/3 flex flex-col gap-6">
                                    <div>
                                        <h2 className="text-3xl md:text-4xl font-bold tracking-tight mb-4 text-slate-900 dark:text-white">Sobre mí</h2>
                                        <div className="h-1.5 w-12 bg-primary rounded-full"></div>
                                    </div>
                                    <div className="p-6 rounded-2xl bg-slate-100 dark:bg-[#191e33] border border-slate-200 dark:border-[#323b67]">
                                        <div className="flex flex-col gap-4">
                                            <div className="flex items-center gap-3">
                                                <span className="relative flex h-3 w-3">
                                                    <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                                                    <span className="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span>
                                                </span>
                                                <span className="text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-[#929bc9]">Disponible para trabajar</span>
                                            </div>
                                            <p className="text-sm text-slate-600 dark:text-[#929bc9]">Ubicado en Monterrey, N.L., México.
Especializado en producción audiovisual y diseño estratégico.</p>
                                            <button onClick={handleDownloadCV} className="flex w-full items-center justify-center gap-2 rounded-lg bg-white dark:bg-[#101322] border border-slate-300 dark:border-[#323b67] py-3 text-sm font-bold text-slate-700 dark:text-white hover:bg-primary hover:text-white transition-all"><span className="material-symbols-outlined text-lg">download</span>Descargar CV</button>
                                            <div className="mt-4 pt-4 border-t border-slate-200 dark:border-[#323b67]">
                                                <h4 className="text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400 dark:text-[#929bc9] mb-4">Software & Herramientas</h4>
                                                <div className="flex flex-wrap gap-2 mb-6">
                                                    {["After Effects", "Illustrator", "Photoshop", "Maya", "Blender", "Visual Studio Code"].map(skill => (
                                                        <span key={skill} className="px-2 py-1 bg-primary/10 text-primary text-[10px] font-bold rounded uppercase tracking-wider border border-primary/20">{skill}</span>
                                                    ))}
                                                </div>
                                                <div className="my-6 border-t border-slate-200 dark:border-[#323b67]"></div>
                                                <h4 className="text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400 dark:text-[#929bc9] mb-3">Contacto</h4>
                                                <div className="flex flex-col gap-3">
                                                    <div className="flex flex-wrap items-center gap-x-4 gap-y-2">
                                                        <a href="mailto:dari.puentec@gmail.com" className="flex items-center gap-2 text-xs text-slate-600 dark:text-[#929bc9] hover:text-primary transition-colors"><span className="material-symbols-outlined text-sm">mail</span>dari.puentec@gmail.com</a>
                                                        <a href="tel:+528124678343" className="flex items-center gap-2 text-xs text-slate-600 dark:text-[#929bc9] hover:text-primary transition-colors"><span className="material-symbols-outlined text-sm">call</span>81-2467-8343</a>
                                                    </div>
                                                    <a href="https://www.linkedin.com/in/josu%C3%A9-puente/" target="_blank" rel="noopener noreferrer" className="flex items-center gap-2 text-xs text-slate-600 dark:text-[#929bc9] hover:text-primary transition-colors"><svg className="size-3.5 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>LinkedIn Professional</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div className="w-full md:w-2/3 pt-0"><ExperienceSection /></div>
                            </div>
                        </section>
                    </main>
                    <Footer />
                </div>
            );
        };

        const LandingPage = ({ onWebsiteSelect }) => {
            const navigate = useNavigate();
            const [displayText, setDisplayText] = useState("");
            const [isDeleting, setIsDeleting] = useState(false);
            const [nameIndex, setNameIndex] = useState(0);
            const [charIndex, setCharIndex] = useState(0);
            const [selectedProject, setSelectedProject] = useState(null);
            const [activeGalleryIndex, setActiveGalleryIndex] = useState(0);
            const [isImageZoomed, setIsImageZoomed] = useState(false);

            useEffect(() => {
                if (selectedProject) { document.body.style.overflow = 'hidden'; }
                else { document.body.style.overflow = 'unset'; }
                return () => { document.body.style.overflow = 'unset'; };
            }, [selectedProject]);

            const names = ["Josué Puente", "Web Designer", "Video Editor"];

            useEffect(() => {
                let interval;
                if (selectedProject && selectedProject.type === 'gallery' && !isImageZoomed) {
                    interval = setInterval(() => {
                        setActiveGalleryIndex((prev) => prev === selectedProject.gallery.length - 1 ? 0 : prev + 1);
                    }, 3000);
                }
                return () => clearInterval(interval);
            }, [selectedProject, isImageZoomed, activeGalleryIndex]);

            useEffect(() => {
                const handleKeyDown = (e) => {
                    if (selectedProject && selectedProject.type === 'gallery') {
                        if (e.key === 'ArrowRight') { setActiveGalleryIndex((prev) => (prev === selectedProject.gallery.length - 1 ? 0 : prev + 1)); }
                        else if (e.key === 'ArrowLeft') { setActiveGalleryIndex((prev) => (prev === 0 ? selectedProject.gallery.length - 1 : prev - 1)); }
                    }
                };
                window.addEventListener('keydown', handleKeyDown);
                return () => window.removeEventListener('keydown', handleKeyDown);
            }, [selectedProject]);

            useEffect(() => {
                const currentName = names[nameIndex];
                let timer;
                if (!isDeleting && charIndex === currentName.length) { timer = setTimeout(() => { setIsDeleting(true); }, 2000); }
                else if (isDeleting && charIndex === 0) { setIsDeleting(false); setNameIndex((prev) => (prev + 1) % names.length); }
                else {
                    const speed = isDeleting ? 50 : 100;
                    timer = setTimeout(() => {
                        setDisplayText(isDeleting ? currentName.substring(0, charIndex - 1) : currentName.substring(0, charIndex + 1));
                        setCharIndex((prev) => isDeleting ? prev - 1 : prev + 1);
                    }, speed);
                }
                return () => clearTimeout(timer);
            }, [charIndex, isDeleting, nameIndex]);

            return (
                <div className="relative flex min-h-screen w-full flex-col overflow-x-hidden">
                    <Navbar />
                    <main className="flex-1 pt-24">
                        <section className="flex flex-col items-center justify-center px-4 py-20 md:py-32 text-center">
                            <div className="relative mb-10">
                                <div className="absolute -inset-1 rounded-full bg-gradient-to-tr from-primary to-orange-400 opacity-30 blur-md"></div>
                                <div className="relative aspect-square size-40 md:size-52 overflow-hidden rounded-full border-4 border-white dark:border-[#191e33] bg-cover bg-center shadow-2xl" style={{backgroundImage: 'url("img/Yo.png")'}}></div>
                            </div>
                            <div className="max-w-[800px] space-y-6">
                                <h1 className="text-4xl md:text-7xl font-bold tracking-tight text-slate-900 dark:text-white">Hola, Soy <span className="text-primary typing-cursor">{displayText}</span></h1>
                                <p className="mx-auto max-w-xl text-lg text-slate-600 dark:text-[#929bc9]">Lic en Multimedia y Animación Digital. <br /> Productor audiovisual y diseñador digital especializado en narrativa visual, motion y experiencias interactivas.</p>
                                <div className="flex flex-col sm:flex-row items-center justify-center gap-4 pt-4">
                                    <Link to="/works" className="flex min-w-[180px] items-center justify-center rounded-lg bg-primary h-12 px-6 text-white font-bold tracking-wide shadow-lg shadow-primary/20 hover:scale-[1.02] transition-transform">Ver Proyectos</Link>
                                    <Link to="/about" className="flex min-w-[180px] items-center justify-center rounded-lg border border-slate-300 dark:border-[#323b67] h-12 px-6 text-sm font-bold tracking-wide text-slate-700 dark:text-white hover:bg-slate-50 dark:hover:bg-[#191e33] transition-colors">Sobre mí</Link>
                                </div>
                            </div>
                        </section>
                        <section className="mx-auto max-w-[1200px] px-6 py-20 border-t border-slate-200 dark:border-[#232948]">
                            <h2 className="text-3xl font-bold mb-10 text-center text-slate-900 dark:text-white">Proyectos Destacados</h2>
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                                {featuredProjectsData.map((project) => (
                                    <div key={project.id} onClick={() => project.type === 'website' ? onWebsiteSelect(project) : setSelectedProject(project)} className="group relative cursor-pointer overflow-hidden rounded-xl bg-slate-200 dark:bg-slate-800 transition-all duration-300 hover:-translate-y-1">
                                        <div className="aspect-video bg-cover bg-center" style={{backgroundImage: `url("${project.img}")`}}></div>
                                        <div className="absolute inset-0 bg-slate-950/40 transition-colors group-hover:bg-slate-950/20"></div>
                                        <div className="absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent opacity-80 group-hover:opacity-90 transition-opacity"></div>
                                        <div className="absolute inset-0 flex flex-col justify-end p-6">
                                            <span className="text-primary text-xs font-bold uppercase tracking-widest mb-1">{project.category}</span>
                                            <h3 className="text-white text-lg font-bold leading-tight">{project.title}</h3>
                                        </div>
                                    </div>
                                ))}
                            </div>
                            <div className="flex justify-center">
                                <button onClick={() => navigate('/works')} className="flex items-center gap-2 text-primary font-bold hover:underline">Ver todos los trabajos<span className="material-symbols-outlined text-sm">arrow_forward</span></button>
                            </div>
                        </section>
                        {selectedProject && (
                            <div onClick={() => setSelectedProject(null)} className="fixed inset-0 z-[100] flex items-center justify-center p-2 md:p-8 bg-black/90 backdrop-blur-sm transition-opacity">
                                <div onClick={(e) => e.stopPropagation()} className={`relative w-full max-w-5xl h-[95vh] flex flex-col bg-background-dark rounded-xl shadow-2xl overflow-hidden ${
    (selectedProject.id === 8 || selectedProject.id === 9) ? (selectedProject.id === 9 ? 'md:flex-row-reverse' : 'md:flex-row') : ''}`}>
                                    <button onClick={() => setSelectedProject(null)} className="absolute top-4 right-4 md:top-6 md:right-6 z-20 text-white/70 hover:text-white bg-black/40 hover:bg-black/60 p-2 rounded-full transition-all"><span className="material-symbols-outlined">close</span></button>
                                    
                                    <div className={`bg-black flex items-center justify-center relative group overflow-hidden min-h-0 ${
    (selectedProject.id === 8 || selectedProject.id === 9)
        ? 'w-full md:w-2/3 flex-1'
        : 'aspect-video w-full'}`}>
                                        {selectedProject.type === 'gallery' ? (
                                            <div className="relative w-full h-full group/carousel overflow-hidden cursor-zoom-in">
                                                <div onClick={() => setIsImageZoomed(true)} className="w-full h-full bg-contain bg-no-repeat bg-center transition-all duration-500" style={{backgroundImage: `url("${selectedProject.gallery[activeGalleryIndex]}")`}}></div>
                                                <div className="absolute inset-y-0 left-0 flex items-center px-4"><button onClick={() => setActiveGalleryIndex((prev) => (prev === 0 ? selectedProject.gallery.length - 1 : prev - 1))} className="bg-black/50 hover:bg-primary text-white p-2 rounded-full transition-colors"><span className="material-symbols-outlined">chevron_left</span></button></div>
                                                <div className="absolute inset-y-0 right-0 flex items-center px-4"><button onClick={() => setActiveGalleryIndex((prev) => (prev === selectedProject.gallery.length - 1 ? 0 : prev + 1))} className="bg-black/50 hover:bg-primary text-white p-2 rounded-full transition-colors"><span className="material-symbols-outlined">chevron_right</span></button></div>
                                                <div className="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2">{selectedProject.gallery.map((_, idx) => (<div key={idx} className={`h-1.5 rounded-full transition-all ${activeGalleryIndex === idx ? 'w-6 bg-primary' : 'w-2 bg-white/40'}`}></div>))}</div>
                                            </div>
                                        ) : selectedProject.type === 'grid-gallery' ? (
                                            <div className="flex flex-col w-full h-full bg-slate-900 p-2 overflow-y-auto custom-scrollbar snap-y snap-mandatory gap-4">
                                                {selectedProject.gallery.map((item, idx) => (
                                                    <div key={idx} className="relative w-full aspect-video shrink-0 overflow-hidden bg-slate-800 rounded-lg shadow-inner snap-start">
                                                        {item.endsWith('.mp4') ? (
                                                            <video src={item} autoPlay loop muted playsInline className="w-full h-full object-cover" />
                                                        ) : (
                                                            <img src={item} alt={`Grid item ${idx}`} className="w-full h-full object-cover" />
                                                        )}
                                                        <div className="absolute top-4 left-4 bg-black/70 backdrop-blur-md px-4 py-1.5 text-[10px] md:text-xs font-bold text-white rounded-full uppercase tracking-[0.2em] border border-white/10 shadow-lg">
                                                            {selectedProject.labels ? selectedProject.labels[idx] : `ETAPA 0${idx + 1}`}
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        ) : selectedProject.type === 'video' ? (
                                            <div className="w-full h-full"><iframe className="w-full h-full" src={`${selectedProject.videoUrl}?autoplay=0&mute=0`} title={selectedProject.title} frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe></div>
                                        ) : selectedProject.type === 'local-video' ? (
                                            <div className="w-full h-full bg-[#0f0f0f] flex items-center justify-center">
                                                <video src={selectedProject.videoUrl} controls autoPlay className="max-w-full max-h-full" />
                                            </div>
                                        ) : null}
                                    </div>

                                    <div className={`p-4 md:p-10 text-white text-left bg-slate-900 border-t md:border-t-0 md:border-x border-white/5 ${(selectedProject.id === 8 || selectedProject.id === 9) ? 'w-full md:w-1/3 flex flex-col justify-center overflow-y-auto custom-scrollbar' : 'shrink-0 overflow-hidden'}`}>
                                        <div className="flex flex-col justify-between items-start gap-4 h-full">
                                            <div className="flex-1">
                                                <div className="flex flex-wrap items-center gap-3 mb-4">
                                                    <h2 className="text-2xl md:text-3xl font-bold">{selectedProject.title}</h2>
                                                    <div className="flex items-center gap-2">
                                                        <span className="px-2 py-0.5 bg-primary/20 text-primary text-[9px] font-bold uppercase tracking-widest rounded border border-primary/20">{selectedProject.category}</span>
                                                        <span className="px-2 py-0.5 bg-white/5 text-slate-400 text-[9px] font-bold uppercase tracking-widest rounded border border-white/10">Destacado</span>
                                                    </div>
                                                </div>
                                                <p className="text-slate-400 text-sm md:text-base leading-relaxed">{selectedProject.desc}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                        {isImageZoomed && selectedProject && selectedProject.type === 'gallery' && (
                            <div onClick={() => setIsImageZoomed(false)} className="fixed inset-0 z-[110] flex items-center justify-center bg-black/95 transition-opacity animate-in fade-in duration-300">
                                <button onClick={() => setIsImageZoomed(false)} className="absolute top-6 right-6 z-[120] text-white/70 hover:text-white bg-black/40 hover:bg-black/60 p-3 rounded-full transition-all"><span className="material-symbols-outlined text-3xl">close</span></button>
                                <div className="relative w-full h-full flex items-center justify-center p-4 md:p-12">
                                    <div className="absolute inset-y-0 left-0 flex items-center px-4 z-[120]"><button onClick={(e) => { e.stopPropagation(); setActiveGalleryIndex((prev) => (prev === 0 ? selectedProject.gallery.length - 1 : prev - 1)); }} className="bg-white/10 hover:bg-primary text-white p-4 rounded-full transition-colors"><span className="material-symbols-outlined text-4xl">chevron_left</span></button></div>
                                    <img onClick={(e) => e.stopPropagation()} src={selectedProject.gallery[activeGalleryIndex]} alt="Zoomed project" className="max-w-full max-h-full object-contain shadow-2xl scale-in-95 animate-in zoom-in-95 duration-300" />
                                    <div className="absolute inset-y-0 right-0 flex items-center px-4 z-[120]"><button onClick={(e) => { e.stopPropagation(); setActiveGalleryIndex((prev) => (prev === selectedProject.gallery.length - 1 ? 0 : prev + 1)); }} className="bg-white/10 hover:bg-primary text-white p-4 rounded-full transition-colors"><span className="material-symbols-outlined text-4xl">chevron_right</span></button></div>
                                    <div className="absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-3 z-[120]">{selectedProject.gallery.map((_, idx) => (<div key={idx} className={`h-2 rounded-full transition-all ${activeGalleryIndex === idx ? 'w-8 bg-primary' : 'w-2 bg-white/40'}`}></div>))}</div>
                                </div>
                            </div>
                        )}
                    </main>
                    <Footer />
                </div>
            );
        };

        const WorksPage = ({ onWebsiteSelect }) => {
            const [selectedProject, setSelectedProject] = useState(null);
            const [activeCategory, setActiveCategory] = useState("Todos");
            const [activeGalleryIndex, setActiveGalleryIndex] = useState(0);
            const [visibleCount, setVisibleCount] = useState(6);
            const [isImageZoomed, setIsImageZoomed] = useState(false);

            useEffect(() => {
                if (selectedProject) { document.body.style.overflow = 'hidden'; }
                else { document.body.style.overflow = 'unset'; }
                return () => { document.body.style.overflow = 'unset'; };
            }, [selectedProject]);

            useEffect(() => {
                let interval;
                if (selectedProject && selectedProject.type === 'gallery' && !isImageZoomed) {
                    interval = setInterval(() => { setActiveGalleryIndex((prev) => prev === selectedProject.gallery.length - 1 ? 0 : prev + 1); }, 3000);
                }
                return () => clearInterval(interval);
            }, [selectedProject, isImageZoomed, activeGalleryIndex]);

            useEffect(() => {
                const handleKeyDown = (e) => {
                    if (selectedProject && selectedProject.type === 'gallery') {
                        if (e.key === 'ArrowRight') { setActiveGalleryIndex((prev) => (prev === selectedProject.gallery.length - 1 ? 0 : prev + 1)); }
                        else if (e.key === 'ArrowLeft') { setActiveGalleryIndex((prev) => (prev === 0 ? selectedProject.gallery.length - 1 : prev - 1)); }
                    }
                };
                window.addEventListener('keydown', handleKeyDown);
                return () => window.removeEventListener('keydown', handleKeyDown);
            }, [selectedProject]);

            const categories = ["Todos", "Edición de Video / VFX", "Fotografías" , "Diseño Web"];
            const filteredProjects = activeCategory === "Todos" ? allProjectsData : allProjectsData.filter(p => p.category === activeCategory);

            return (
                <div className="relative flex min-h-screen w-full flex-col overflow-x-hidden">
                    <Navbar />
                    <main className="flex-1 flex flex-col items-center py-24 px-6">
                        <div className="w-full max-w-[1100px]">
                            <div className="flex flex-col gap-2 mb-8 px-4">
                                <h1 className="text-slate-900 dark:text-white text-5xl font-black leading-tight tracking-[-0.033em]">Mis trabajos</h1>
                                <p className="text-slate-500 dark:text-[#929bc9] text-lg font-normal">Proyectos audiovisuales y digitales enfocados en narrativa visual y diseño.</p>
                            </div>
                            <div className="mb-10 px-4">
                                <div className="flex border-b border-slate-200 dark:border-[#323b67] gap-8 overflow-x-auto no-scrollbar">
                                    {categories.map((cat) => (
                                        <button key={cat} onClick={() => setActiveCategory(cat)} className={`flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4 transition-all whitespace-nowrap ${activeCategory === cat ? 'border-primary text-slate-900 dark:text-white' : 'border-transparent text-slate-400 dark:text-[#929bc9] hover:text-primary'}`}>
                                            <span className="text-sm font-bold tracking-wide">{cat}</span>
                                        </button>
                                    ))}
                                </div>
                            </div>
                            <h2 className="text-slate-900 dark:text-white tracking-tight text-2xl font-bold px-4 mb-6">Creaciones Recientes</h2>
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4">
                                {filteredProjects.slice(0, visibleCount).map((project) => (
                                    <div key={project.id} onClick={() => project.type === 'website' ? onWebsiteSelect(project) : setSelectedProject(project)} className="group relative cursor-pointer overflow-hidden rounded-xl bg-slate-200 dark:bg-slate-800 transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl hover:shadow-primary/20">
                                        <div className="aspect-video bg-cover bg-center" style={{backgroundImage: `url("${project.img}")`}}></div>
                                        <div className="absolute inset-0 bg-slate-950/40 transition-colors group-hover:bg-slate-950/20"></div>
                                        <div className="absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent opacity-90 transition-opacity group-hover:opacity-100"></div>
                                        <div className="absolute inset-0 flex flex-col justify-end p-4 md:p-6 text-left">
                                            <span className="text-primary text-[10px] md:text-xs font-bold uppercase tracking-widest mb-1 drop-shadow-sm">{project.category}</span>
                                            <h3 className="text-white text-lg md:text-xl font-bold leading-tight drop-shadow-md">{project.title}</h3>
                                            <div className="flex items-center gap-2 mt-2 md:mt-3 opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0">
                                                <span className="material-symbols-outlined text-white text-3xl">{project.type === 'gallery' ? 'visibility' : 'play_circle'}</span>
                                                <span className="text-white text-sm font-medium">Ver Proyecto</span>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                            {visibleCount < filteredProjects.length && (<div className="flex justify-center mt-12 mb-20"><button onClick={() => setVisibleCount(prev => prev + 6)} className="px-8 py-3 rounded-full border border-slate-300 dark:border-[#323b67] text-slate-700 dark:text-white font-bold hover:bg-slate-100 dark:hover:bg-white/5 transition-all">Cargar más trabajos</button></div>)}
                        </div>
                    </main>
                    {selectedProject && (
                        <div onClick={() => setSelectedProject(null)} className="fixed inset-0 z-[100] flex items-center justify-center p-2 md:p-8 bg-black/90 backdrop-blur-sm transition-opacity">
                            <div onClick={(e) => e.stopPropagation()} className={`relative w-full max-w-5xl h-[95vh] flex flex-col bg-background-dark rounded-xl shadow-2xl overflow-hidden ${
    (selectedProject.id === 8 || selectedProject.id === 9) ? (selectedProject.id === 9 ? 'md:flex-row-reverse' : 'md:flex-row') : ''}`}>
                                <button onClick={() => setSelectedProject(null)} className="absolute top-4 right-4 md:top-6 md:right-6 z-20 text-white/70 hover:text-white bg-black/40 hover:bg-black/60 p-2 rounded-full transition-all"><span className="material-symbols-outlined">close</span></button>
                                
                                <div className={`bg-black flex items-center justify-center relative group overflow-hidden min-h-0 ${
    (selectedProject.id === 8 || selectedProject.id === 9)
        ? 'w-full md:w-2/3 flex-1'
        : 'aspect-video w-full'}`}>
                                    {selectedProject.type === 'gallery' ? (
                                        <div className="relative w-full h-full group/carousel cursor-zoom-in overflow-hidden">
                                            <div onClick={() => setIsImageZoomed(true)} className="w-full h-full bg-contain bg-no-repeat bg-center transition-all duration-500" style={{backgroundImage: `url("${selectedProject.gallery[activeGalleryIndex]}")`}}></div>
                                            <div className="absolute inset-y-0 left-0 flex items-center px-4"><button onClick={() => setActiveGalleryIndex((prev) => (prev === 0 ? selectedProject.gallery.length - 1 : prev - 1))} className="bg-black/50 hover:bg-primary text-white p-2 rounded-full transition-colors"><span className="material-symbols-outlined">chevron_left</span></button></div>
                                            <div className="absolute inset-y-0 right-0 flex items-center px-4"><button onClick={() => setActiveGalleryIndex((prev) => (prev === selectedProject.gallery.length - 1 ? 0 : prev + 1))} className="bg-black/50 hover:bg-primary text-white p-2 rounded-full transition-colors"><span className="material-symbols-outlined">chevron_right</span></button></div>
                                            <div className="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2">{selectedProject.gallery.map((_, idx) => (<div key={idx} className={`h-1.5 rounded-full transition-all ${activeGalleryIndex === idx ? 'w-6 bg-primary' : 'w-2 bg-white/40'}`}></div>))}</div>
                                        </div>
                                    ) : selectedProject.type === 'grid-gallery' ? (
                                        <div className="flex flex-col w-full h-full bg-slate-900 p-2 overflow-y-auto custom-scrollbar snap-y snap-mandatory gap-4">
                                            {selectedProject.gallery.map((item, idx) => (
                                                <div key={idx} className="relative w-full aspect-video shrink-0 overflow-hidden bg-slate-800 rounded-lg shadow-inner snap-start">
                                                    {item.endsWith('.mp4') ? (
                                                        <video src={item} autoPlay loop muted playsInline className="w-full h-full object-cover" />
                                                    ) : (
                                                        <img src={item} alt={`Grid item ${idx}`} className="w-full h-full object-cover" />
                                                    )}
                                                    <div className="absolute top-4 left-4 bg-black/70 backdrop-blur-md px-4 py-1.5 text-[10px] md:text-xs font-bold text-white rounded-full uppercase tracking-[0.2em] border border-white/10 shadow-lg">
                                                        {selectedProject.labels ? selectedProject.labels[idx] : `VISTA ${idx + 1}`}
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    ) : selectedProject.type === 'video' ? (
                                        <div className="w-full h-full"><iframe className="w-full h-full" src={`${selectedProject.videoUrl}?autoplay=0&mute=0`} title={selectedProject.title} frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe></div>
                                    ) : selectedProject.type === 'local-video' ? (
                                        <div className="w-full h-full bg-[#0f0f0f] flex items-center justify-center">
                                            <video src={selectedProject.videoUrl} controls autoPlay className="max-w-full max-h-full" />
                                        </div>
                                    ) : null}
                                </div>

                                <div className={`p-4 md:p-10 text-white text-left bg-slate-900 border-t md:border-t-0 md:border-x border-white/5 ${(selectedProject.id === 8 || selectedProject.id === 9) ? 'w-full md:w-1/3 flex flex-col justify-center overflow-y-auto custom-scrollbar' : 'shrink-0 overflow-hidden'}`}>
                                    <div className="flex flex-col gap-4 h-full">
                                        <div className="flex flex-wrap items-center gap-4">
                                            <h2 className="text-2xl md:text-4xl font-bold break-words leading-tight tracking-tight">{selectedProject.title}</h2>
                                            <div className="flex flex-wrap gap-2">
                                                <span className="px-2 py-1 bg-primary/20 text-primary text-[10px] md:text-xs font-bold rounded-md uppercase tracking-wider border border-primary/20">Diseño</span>
                                                <span className="px-2 py-1 bg-primary/20 text-primary text-[10px] md:text-xs font-bold rounded-md uppercase tracking-wider border border-primary/20">{selectedProject.category}</span>
                                            </div>
                                        </div>
                                        <p className="text-slate-400 text-sm md:text-base max-w-2xl leading-relaxed">{selectedProject.desc}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                    {isImageZoomed && selectedProject && selectedProject.type === 'gallery' && (
                        <div onClick={() => setIsImageZoomed(false)} className="fixed inset-0 z-[110] flex items-center justify-center bg-black/95 transition-opacity animate-in fade-in duration-300">
                            <button onClick={() => setIsImageZoomed(false)} className="absolute top-6 right-6 z-[120] text-white/70 hover:text-white bg-black/40 hover:bg-black/60 p-3 rounded-full transition-all"><span className="material-symbols-outlined text-3xl">close</span></button>
                            <div className="relative w-full h-full flex items-center justify-center p-4 md:p-12">
                                <div className="absolute inset-y-0 left-0 flex items-center px-4 z-[120]"><button onClick={(e) => { e.stopPropagation(); setActiveGalleryIndex((prev) => (prev === 0 ? selectedProject.gallery.length - 1 : prev - 1)); }} className="bg-white/10 hover:bg-primary text-white p-4 rounded-full transition-colors"><span className="material-symbols-outlined text-4xl">chevron_left</span></button></div>
                                <img onClick={(e) => e.stopPropagation()} src={selectedProject.gallery[activeGalleryIndex]} alt="Zoomed project" className="max-w-full max-h-full object-contain shadow-2xl scale-in-95 animate-in zoom-in-95 duration-300" />
                                <div className="absolute inset-y-0 right-0 flex items-center px-4 z-[120]"><button onClick={(e) => { e.stopPropagation(); setActiveGalleryIndex((prev) => (prev === selectedProject.gallery.length - 1 ? 0 : prev + 1)); }} className="bg-white/10 hover:bg-primary text-white p-4 rounded-full transition-colors"><span className="material-symbols-outlined text-4xl">chevron_right</span></button></div>
                                <div className="absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-3 z-[120]">{selectedProject.gallery.map((_, idx) => (<div key={idx} className={`h-2 rounded-full transition-all ${activeGalleryIndex === idx ? 'w-8 bg-primary' : 'w-2 bg-white/40'}`}></div>))}</div>
                            </div>
                        </div>
                    )}
                    <Footer />
                </div>
            );
        };

        const ScrollToTop = () => {
            const { pathname } = useLocation();
            useEffect(() => { window.scrollTo(0, 0); }, [pathname]);
            return null;
        };

        const App = () => {
            const [minimizedWebsite, setMinimizedWebsite] = useState(null);
            const [isMinimized, setIsMinimized] = useState(false);
            const handleWebsiteProject = (project) => { setMinimizedWebsite(project); setIsMinimized(false); };
            return (
                <HashRouter>
                    <ScrollToTop />
                    <div className="min-h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-white transition-colors duration-300">
                        <Routes>
                            <Route path="/" element={<LandingPage onWebsiteSelect={handleWebsiteProject} />} />
                            <Route path="/works" element={<WorksPage onWebsiteSelect={handleWebsiteProject} />} />
                            <Route path="/about" element={<AboutPage />} />
                        </Routes>
                        {minimizedWebsite && isMinimized && (
                            <WebsiteBrowserUI url={minimizedWebsite.url} title={minimizedWebsite.title} onClose={() => { setMinimizedWebsite(null); setIsMinimized(false); }} isMinimized={true} setIsMinimized={setIsMinimized} />
                        )}
                        {minimizedWebsite && !isMinimized && (
                            <div onMouseDown={(e) => { if(e.target === e.currentTarget) { setMinimizedWebsite(null); setIsMinimized(false); } }} className="fixed inset-0 z-[100] flex items-center justify-center p-2 md:p-8 bg-black/90 backdrop-blur-sm transition-opacity">
                                <div className="relative w-full max-w-6xl h-[95vh] md:h-[85vh] flex flex-col bg-background-dark rounded-xl shadow-2xl overflow-hidden">
                                    <div className="flex-1 min-h-0"><WebsiteBrowserUI url={minimizedWebsite.url} title={minimizedWebsite.title} onClose={() => { setMinimizedWebsite(null); setIsMinimized(false); }} isMinimized={false} setIsMinimized={setIsMinimized} /></div>
                                    <div className="p-4 md:p-6 text-white text-left bg-slate-900 border-t border-white/5 overflow-y-auto shrink-0 max-h-[30vh]">
                                        <div className="max-w-6xl mx-auto">
                                            <div className="flex flex-col md:flex-row justify-between items-center gap-6">
                                                <div className="flex-1 min-w-0">
                                                    <div className="flex items-center gap-3 mb-2"><span className="px-2 py-0.5 bg-primary text-white text-[9px] font-black uppercase tracking-widest rounded">Project Live</span><span className="text-primary text-[10px] font-bold uppercase tracking-widest">{minimizedWebsite.category}</span></div>
                                                    <h2 className="text-xl md:text-3xl font-black mb-2 break-words leading-tight tracking-tight">{minimizedWebsite.title}</h2>
                                                    <p className="text-slate-400 text-xs md:text-sm max-w-3xl leading-relaxed">{minimizedWebsite.desc}</p>
                                                </div>
                                                <div className="flex items-center gap-3 w-full md:w-auto shrink-0 mt-2 md:mt-0"><a href={minimizedWebsite.url} target="_blank" rel="noopener noreferrer" className="flex-1 md:flex-none flex items-center gap-2 bg-primary hover:bg-orange-600 text-white px-5 py-2.5 rounded-lg transition-all text-sm font-bold justify-center shadow-lg"><span className="material-symbols-outlined text-lg">open_in_new</span>Visitar Sitio</a></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </HashRouter>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>